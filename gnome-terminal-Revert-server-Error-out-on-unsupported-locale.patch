From 518ef44cd7af4819f28557b6d04973ca5f7b47cf Mon Sep 17 00:00:00 2001
From: Ray Strode <rstrode@redhat.com>
Date: Mon, 4 Apr 2016 12:12:49 -0400
Subject: [PATCH] Revert "server: Error out on unsupported locale"

This reverts commit 27051edaea86908d8852e7bc66d88215b51fc179.
---
 src/server.c | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

diff --git a/src/server.c b/src/server.c
index d516cbbf421f..5f4a466532e5 100644
--- a/src/server.c
+++ b/src/server.c
@@ -104,7 +104,7 @@ int
 main (int argc, char **argv)
 {
   gs_unref_object GApplication *app = NULL;
-  const char *home_dir, *charset;
+  const char *home_dir;
   GError *error = NULL;
 
   if (G_UNLIKELY ((getuid () != geteuid () ||
@@ -122,11 +122,6 @@ main (int argc, char **argv)
 
   terminal_i18n_init (TRUE);
 
-  if (!g_get_charset (&charset)) {
-    g_printerr ("Non UTF-8 locale (%s) is not supported!\n", charset);
-    return _EXIT_FAILURE_NO_UTF8;
-  }
-
   /* Sanitise environment */
   g_unsetenv ("DBUS_STARTER_BUS_TYPE");
 
-- 
2.9.3

